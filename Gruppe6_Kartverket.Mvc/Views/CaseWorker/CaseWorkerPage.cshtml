@{
    Layout = "~/Views/Shared/_CaseWorkerLayout.cshtml";
    ViewData["Title"] = "Caseworker-page";
}

@section HeadContent {
    <link rel="stylesheet" href="~/css/caseWorkerPage.css">
}

<div class="CWP_container">
    @* The left menu column *@
    <div class="CWP_menu">
        <ul class="nav flex-column">

            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("Profile", "CaseWorker")">Profile</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("Inbox", "CaseWorker")">Inbox</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("Settings", "CaseWorker")">Settings</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("LandingPage", "LandingPage")">Log out</a>
            </li>
            
        </ul>
    </div>

    @* The main display of the CWP *@
    <div class="CWP_main">
        <p>display-screen</p>

        <button class="CWP-filter-button" onclick="toggleFilterMenu()">Filter</button>
        <div class="CWP-filter-menu" id="CWP-filterMenu">
            <h3>Filter Options</h3>
            <div class="form-group">
                <label for="categorySelect">Category</label>
                <select class="form-control" id="categorySelect">
                    <option>Category 1</option>
                    <option>Category 2</option>
                    <option>Category 3</option>
                </select>
            </div>
            <div class="form-group">
                <label>Options</label>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="option1">
                    <label class="form-check-label" for="option1">
                        Option 1
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="option2">
                    <label class="form-check-label" for="option2">
                        Option 2
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="option3">
                    <label class="form-check-label" for="option3">
                        Option 3
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="rangeInput">Range</label>
                <input type="range" class="form-control-range" id="rangeInput">
            </div>
            <div class="CWP-button-container">
                <button class="CWP-reset-button" onclick="resetFilters()">Reset Filters</button>
                <button class="CWP-apply-button" onclick="applyChanges()">Apply Changes</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function toggleFilterMenu() {
            var filterMenu = document.getElementById("CWP-filterMenu");
            filterMenu.classList.toggle("open");
            if (filterMenu.classList.contains("open")) {
                document.addEventListener("click", closeFilterMenuOnClickOutside);
            } else {
                document.removeEventListener("click", closeFilterMenuOnClickOutside);
            }
        }

        function closeFilterMenuOnClickOutside(event) {
            var filterMenu = document.getElementById("CWP-filterMenu");
            if (!filterMenu.contains(event.target) && !event.target.matches('.CWP-filter-button')) {
                filterMenu.classList.remove("open");
                document.removeEventListener("click", closeFilterMenuOnClickOutside);
            }
        }

        function applyChanges() {
            var filterMenu = document.getElementById("CWP-filterMenu");
            filterMenu.classList.remove("open");
            document.removeEventListener("click", closeFilterMenuOnClickOutside);
            // Add any additional logic for applying changes here.....
        }

        function resetFilters() {
            document.getElementById("categorySelect").selectedIndex = 0;
            document.getElementById("option1").checked = false;
            document.getElementById("option2").checked = false;
            document.getElementById("option3").checked = false;
            document.getElementById("rangeInput").value = document.getElementById("rangeInput").min;
        }
    </script>
}